palette db      117/4, 117/4, 117/4, 0
        db       39/4,  27/4, 143/4, 0
        db        0/4,   0/4, 171/4, 0
        db       71/4,   0/4, 159/4, 0
        db      143/4,   0/4, 119/4, 0
        db      171/4,   0/4,  19/4, 0
        db      167/4,   0/4,   0/4, 0
        db      127/4,  11/4,   0/4, 0
        db       67/4,  47/4,   0/4, 0
        db        0/4,  71/4,   0/4, 0
        db        0/4,  81/4,   0/4, 0
        db        0/4,  63/4,  23/4, 0
        db       27/4,  63/4,  95/4, 0
        db        0/4,   0/4,   0/4, 0
        db        0/4,   0/4,   0/4, 0
        db        0/4,   0/4,   0/4, 0
        db      188/4, 188/4, 188/4, 0
        db        0/4, 115/4, 239/4, 0
        db       35/4,  59/4, 239/4, 0
        db      131/4,   0/4, 243/4, 0
        db      191/4,   0/4, 191/4, 0
        db      231/4,   0/4,  91/4, 0
        db      219/4,  43/4,   0/4, 0
        db      203/4,  79/4,  15/4, 0
        db      139/4, 115/4,   0/4, 0
        db        0/4, 151/4,   0/4, 0
        db        0/4, 171/4,   0/4, 0
        db        0/4, 147/4,  59/4, 0
        db        0/4, 131/4, 139/4, 0
        db        0/4,   0/4,   0/4, 0
        db        0/4,   0/4,   0/4, 0
        db        0/4,   0/4,   0/4, 0
        db      255/4, 255/4, 255/4, 0
        db       63/4, 191/4, 255/4, 0
        db       95/4, 151/4, 255/4, 0
        db      167/4, 139/4, 253/4, 0
        db      247/4, 123/4, 255/4, 0
        db      255/4, 119/4, 183/4, 0
        db      255/4, 119/4,  99/4, 0
        db      255/4, 155/4,  59/4, 0
        db      243/4, 191/4,  63/4, 0
        db      131/4, 211/4,  19/4, 0
        db       79/4, 223/4,  75/4, 0
        db       88/4, 248/4, 152/4, 0
        db        0/4, 235/4, 219/4, 0
        db        0/4,   0/4,   0/4, 0
        db        0/4,   0/4,   0/4, 0
        db        0/4,   0/4,   0/4, 0
        db      255/4, 255/4, 255/4, 0
        db      171/4, 231/4, 255/4, 0
        db      199/4, 215/4, 255/4, 0
        db      215/4, 203/4, 255/4, 0
        db      255/4, 199/4, 255/4, 0
        db      255/4, 199/4, 219/4, 0
        db      255/4, 191/4, 179/4, 0
        db      255/4, 219/4, 171/4, 0
        db      255/4, 231/4, 163/4, 0
        db      227/4, 255/4, 163/4, 0
        db      171/4, 243/4, 191/4, 0
        db      179/4, 255/4, 207/4, 0
        db      159/4, 255/4, 243/4, 0
        db        0/4,   0/4,   0/4, 0
        db        0/4,   0/4,   0/4, 0
        db        0/4,   0/4,   0/4, 0

PROC    SetPalette
pushad
mov     dx,3c8h
xor     al,al
out     dx,al
inc     dx
mov     cl,16
@@palloop:
lodsb
movzx   ebx,al
mov     al,[palette + ebx*4]
out     dx,al
mov     al,[palette + ebx*4+1]
out     dx,al
mov     al,[palette + ebx*4+2]
out     dx,al
dec     cl
jnz     @@palloop
popad
ret
ENDP    SetPalette
